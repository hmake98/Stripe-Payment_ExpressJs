<nav>
    <div class="nav-wrapper">
        <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons"><i
                    class="fas fa-bars"></i></i></a>
        <ul class="left hide-on-med-and-down">
            <li><a href="/">Donations</a></li>
        </ul>
    </div>
</nav>

<ul class="sidenav" id="mobile-demo">
    <li><a href="">Items</a></li>
</ul>

<div class="container center-align tap">
    <form class="col s12 m5" action="/charge" method="POST">
        {{charge}}
        <div class="row">
            <div class="input-field col s3">
                <input placeholder="First name" name="firstname" id="first_name" type="text" class="validate">
                <label for="first_name">First Name</label>
            </div>
            <div class="input-field col s3">
                <input id="last_name" type="text" name="lastname" class="validate">
                <label for="last_name">Last Name</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s6">
                <input id="email" type="email" name="email" class="validate">
                <label for="email">Email</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s6">
                <i class="fa fas-edit"></i>
                <textarea id="icon_prefix2" name="message" placeholder="Write something"
                    class="materialize-textarea"></textarea>
                <label for="icon_prefix2">Message</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s6">
                <i class="fas fa-dollar-sign prefix"></i>
                <input id="icon_prefix" type="number" class="validate" name="value_pay">
                <label for="icon_prefix">Donate</label>
            </div>
        </div>
        <button class="waves-effect waves-light btn" id="customButton" type="submit"> Donate </button>
        <script src="https://checkout.stripe.com/checkout.js"></script>

        <script>
            var handler = StripeCheckout.configure({
                key: '',
                image: 'https://stripe.com/img/documentation/checkout/marketplace.png',
                locale: 'auto',
                source: 'pk_test_EwErw4n4hCzbYSlsimIGw7cZ00zdLAWR5M'
            });

            document.getElementById('customButton').addEventListener('click', function (e) {
                // Open Checkout with further options:
                handler.open({
                    name: 'C & C',
                    description: document.getElementById('icon_prefix2')['value'],
                    email: document.getElementById('email')['value'],
                    amount: parseFloat(document.getElementById('icon_prefix')['value']) * 100
                });
                e.preventDefault();
            });

            // Close Checkout on page navigation:
            window.addEventListener('popstate', function () {
                handler.close();
            });
        </script>
    </form>
</div>
<script src="javascripts/index.js">
</script>